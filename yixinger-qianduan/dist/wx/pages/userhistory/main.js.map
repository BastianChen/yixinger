{"version":3,"sources":["webpack:///./src/pages/userhistory/main.js","webpack:///./src/pages/userhistory/index.vue","webpack:///./src/pages/userhistory/index.vue?86bc","webpack:///src/pages/userhistory/index.vue","webpack:///./src/pages/userhistory/index.vue?0ed5"],"names":["app","Vue","App","$mount"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMA,MAAM,IAAIC,2CAAJ,CAAQC,uDAAR,CAAZ;AACAF,IAAIG,MAAJ,G;;;;;;;;ACJA;AAAA;AAAA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,GAA0f;AACpgB;AACA,yBAAyB,mBAAO,CAAC,CAA8D;AAC/F;AAC2H;AAC3H;AACwU;AACxU;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mIAAc;AAChB,EAAE,iRAAgB;AAClB;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAEc,0EAAiB;;;;;;;;AC3ChC,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0HA;AACA;;AAEA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,kBAFA;AAGA,kBAHA;AAIA,wBAJA;AAKA,qBALA;AAMA,6BANA;AAOA,0BAPA;AAQA,kBARA,EAQA;AACA,cATA,EASA;AACA,kCAVA;AAWA;AAXA;AAaA,GAfA;AAgBA,QAhBA,oBAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAvBA;AAwBA,UAxBA,sBAwBA;AACA;AACA;AACA;AACA;AACA,GA7BA;AA8BA,SA9BA,qBA8BA;AACA;AACA;AACA,GAjCA;;AAkCA;AACA,aADA,qBACA,EADA,EACA,IADA,EACA;AAAA;;AACA,MAAM,0FAAN;AACA,qBADA;AAEA;AAFA,SAGA,IAHA,CAGA;AACA;AACA,gGADA;AAEA;AACA,sBADA;AAEA;AAFA;AAFA,WAMA,IANA,CAMA;AACA;AACA;AACA,8BADA;AAEA;AAFA;AAIA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAjBA;AAkBA,OAtBA,EAsBA,KAtBA,CAsBA;AACA;AACA,OAxBA;AAyBA,KA3BA;AA4BA,YA5BA,oBA4BA,KA5BA,EA4BA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAlCA;AAmCA,cAnCA,sBAmCA,IAnCA,EAmCA;AACA;AACA,mCADA;AAEA;AAFA;AAIA,KAxCA;AAyCA,0BAzCA,oCAyCA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,mGADA;AAEA;AACA,4CADA;AAEA,0CAFA;AAGA;AAHA;AAFA,SAOA,IAPA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+GACA,8CADA,EACA;AACA;AACA;AACA,0CADA,CACA;AACA;AACA,eAHA,MAGA;AACA,0CADA,CACA;AACA;AACA,aAPA,MAOA;AACA;AACA,0CADA,CACA;AACA;AACA,eAHA,MAGA;AACA,0CADA,CACA;AACA;AACA;AACA,WAjBA,MAiBA,qGACA,kDADA,IAEA,6FACA,yBADA,KACA,4EACA,kCADA,IACA,kCAFA,CAFA,EAIA;AACA;AACA;AACA,0CADA,CACA;AACA;AACA,eAHA,MAGA;AACA,0CADA,CACA;AACA;AACA,aAPA,MAOA;AACA;AACA,0CADA,CACA;AACA;AACA,eAHA,MAGA;AACA,0CADA,CACA;AACA;AACA;AACA,WApBA,MAoBA;AACA;AACA;AACA,4DACA,wCADA,IAEA,oCAFA,IAEA,sCAFA,EAEA;AACA,0CADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAhBA,MAgBA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtHA;AAuHA;AArKA;AAlCA,G;;;;;;;;AC7HA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACF,kEAAS;AACxB,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C","file":"pages\\userhistory\\main.js","sourcesContent":["import Vue from 'vue'\r\nimport App from './index'\r\n\r\nconst app = new Vue(App)\r\napp.$mount()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/userhistory/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2ecb44f2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ecb44f2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2ecb44f2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\userhistory\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2ecb44f2\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-2ecb44f2\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/userhistory/index.vue\n// module id = 229\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-2ecb44f2\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":false}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/userhistory/index.vue\n// module id = 230\n// module chunks = 2","<template>\r\n  <div class=\"index\">\r\n    <van-tabs :active=\"active\" @change=\"onChange\" sticky animated swipeable color=\"#00BFFF\">\r\n      <van-tab title=\"景点\">\r\n        <div class=\"firstDiv\" v-if=\"isSceneryDataEmpty\">\r\n          <div>\r\n            <img src=\"../../../static/images/noContent.png\"/>\r\n          </div>\r\n          <div class=\"title\">\r\n            <span>\r\n              暂无景点浏览记录\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"secondDiv\" v-for=\"(year, key) in yearsSceneryData\" :key=\"key\" v-if=\"!isSceneryDataEmpty\">\r\n          <van-row>\r\n            <van-col span=\"8\" offset=\"1\">\r\n              {{year}}年\r\n            </van-col>\r\n          </van-row>\r\n          <div v-for=\"(item, index) in sceneryData\" :key=\"index\">\r\n            <div v-if=\"item.year==year\">\r\n              <div class=\"rowBottom\">\r\n                <van-row>\r\n                  <van-col span=\"4\" offset=\"1\">\r\n                    <div>\r\n                      <span v-if=\"item.dateType==1\">\r\n                        今天\r\n                      </span>\r\n                      <span v-if=\"item.dateType==2\">\r\n                        昨天\r\n                      </span>\r\n                      <span v-if=\"item.dateType==3\">\r\n                        {{item.day}}\r\n                      </span>\r\n                      <span v-if=\"item.dateType==4||item.dateType==5||item.dateType==6\">\r\n                         &nbsp;\r\n                      </span>\r\n                      <span style=\"font-size: 14px;margin-left:-7px;\" v-if=\"item.dateType==3\">\r\n                        {{item.month}}\r\n                      </span>\r\n                    </div>\r\n                  </van-col>\r\n                  <van-col span=\"18\" @longpress=\"clickLong(item.id,1)\" @click=\"seeDetails(item)\">\r\n                    <van-card\r\n                      :desc=\"item.address\"\r\n                      :title=\"item.placeName\"\r\n                      :thumb=\"item.image\"\r\n                      :tag=\"item.showtag\"\r\n                      centered lazy-load\r\n                    >\r\n                    </van-card>\r\n                  </van-col>\r\n                </van-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n      <van-tab title=\"餐馆\">\r\n        <div class=\"firstDiv\" v-if=\"isRestaurantDataEmpty\">\r\n          <div>\r\n            <img src=\"../../../static/images/noContent.png\"/>\r\n          </div>\r\n          <div class=\"title\">\r\n            <span>\r\n              暂无餐馆浏览记录\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"secondDiv\" v-for=\"(year, key) in yearsRestaurantData\" :key=\"key\" v-if=\"!isRestaurantDataEmpty\">\r\n          <van-row>\r\n            <van-col span=\"8\" offset=\"1\">\r\n              {{year}}年\r\n            </van-col>\r\n          </van-row>\r\n          <div v-for=\"(item, index) in restaurantData\" :key=\"index\" class=\"secondDiv\">\r\n            <div v-if=\"item.year==year\">\r\n              <div class=\"rowBottom\">\r\n                <van-row>\r\n                  <van-col span=\"4\" offset=\"1\">\r\n                    <div>\r\n                    <span v-if=\"item.dateType==1\">\r\n                    今天\r\n                  </span>\r\n                      <span v-if=\"item.dateType==2\">\r\n                    昨天\r\n                  </span>\r\n                      <span v-if=\"item.dateType==3\">\r\n                    {{item.day}}\r\n                  </span>\r\n                      <span v-if=\"item.dateType==4||item.dateType==5||item.dateType==6\">\r\n                    &nbsp;\r\n                  </span>\r\n                      <span style=\"font-size: 14px;margin-left:-7px;\" v-if=\"item.dateType==3\">\r\n                    {{item.month}}\r\n                  </span>\r\n                    </div>\r\n                  </van-col>\r\n                  <van-col span=\"18\" @longpress=\"clickLong(item.id,2)\" @click=\"seeDetails(item)\">\r\n                    <van-card\r\n                      :desc=\"item.address\"\r\n                      :title=\"item.placeName\"\r\n                      :thumb=\"item.image\"\r\n                      :tag=\"item.showtag\"\r\n                      :price=\"item.price\"\r\n                      centered lazy-load\r\n                    >\r\n                    </van-card>\r\n                  </van-col>\r\n                </van-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <van-dialog id=\"van-dialog\" style=\"text-align: center\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Dialog from '../../../static/vant-weapp/dist/dialog/dialog.js';\r\n  import {apiurl} from \"@/service/api.js\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        active: 0,\r\n        imageUrl: '',\r\n        userInfo: {},\r\n        restaurantData: [],\r\n        sceneryData: [],\r\n        yearsRestaurantData: [],\r\n        yearsSceneryData: [],\r\n        district: '',// 直辖市\r\n        city: '',// 城市名\r\n        isRestaurantDataEmpty: false,\r\n        isSceneryDataEmpty: false,\r\n      }\r\n    },\r\n    onShow() {\r\n      this.userInfo = this.$store.getters.disc;\r\n      this.restaurantData = [];\r\n      this.sceneryData = [];\r\n      this.yearsRestaurantData = [];\r\n      this.yearsSceneryData = [];\r\n      this.getUserHistoryByUserId();\r\n    },\r\n    onUnload() {\r\n      this.restaurantData = [];\r\n      this.sceneryData = [];\r\n      this.yearsRestaurantData = [];\r\n      this.yearsSceneryData = [];\r\n    },\r\n    mounted() {\r\n      this.userInfo = this.$store.getters.disc;\r\n      //this.getUserHistoryByUserId();\r\n    },\r\n    methods: {\r\n      clickLong(id, type) {\r\n        Dialog.confirm({\r\n          title: '温馨提示',\r\n          message: '您确定要删除该条记录？'\r\n        }).then(() => {\r\n          this.$httpWX.post({\r\n            url: apiurl.deleteUserHistory,\r\n            data: {\r\n              idList: id,\r\n              userId: this.userInfo.openid\r\n            },\r\n          }).then(res => {\r\n            this.getUserHistoryByUserId();\r\n            wx.showToast({\r\n              title: res.message,\r\n              icon: 'none'\r\n            });\r\n            if (type == 1) {\r\n              this.active = 0;\r\n            } else {\r\n              this.active = 1;\r\n            }\r\n          })\r\n        }).catch(() => {\r\n          console.log(\"取消\")\r\n        });\r\n      },\r\n      onChange(index) {\r\n        if (index.target.index == 0) {\r\n          this.active = 0;\r\n        } else if (index.target.index == 1) {\r\n          this.active = 1;\r\n        }\r\n      },\r\n      seeDetails(data) {\r\n        this.$router.push({\r\n          path: `../placedetail/main`,\r\n          query: {uid: data.placeId, longitude: this.userInfo.longitude, latitude: this.userInfo.latitude}\r\n        });\r\n      },\r\n      getUserHistoryByUserId() {\r\n        this.restaurantData = [];\r\n        this.sceneryData = [];\r\n        this.yearsRestaurantData = [];\r\n        this.yearsSceneryData = [];\r\n        this.$httpWX.get({\r\n          url: apiurl.getUserHistoryByUserId,\r\n          data: {\r\n            longitude: this.userInfo.longitude,\r\n            latitude: this.userInfo.latitude,\r\n            userId: this.userInfo.openid\r\n          },\r\n        }).then(res => {\r\n          let placeData = res.data;\r\n          let myDate = new Date();\r\n          let isTodayFirstOfScenery = false;\r\n          let isYesterdayFirstOfScenery = false;\r\n          let isTodayFirstOfRestaurant = false;\r\n          let isYesterdayFirstOfRestaurant = false;\r\n          for (let i = 0; i < placeData.length; i++) {\r\n            let dateArray = placeData[i].readDate.split('-');\r\n            let isRepeated = false;\r\n            if (placeData[i].placeName.length > 10) {\r\n              placeData[i].placeName = placeData[i].placeName.substring(0, 10) + '...';\r\n            }\r\n            if (placeData[i].address.length > 10) {\r\n              placeData[i].address = placeData[i].address.substring(0, 10) + '...';\r\n            }\r\n            if (!placeData[i].price || placeData[i].price == 0 || placeData[i].price == '' || placeData[i].price == '暂无' || placeData[i].price == 'false') {\r\n              placeData[i].price = null;\r\n            }\r\n            // 设置时间\r\n            placeData[i].year = dateArray[0];\r\n            placeData[i].month = dateArray[1].substring(1, 2) + '月';\r\n            placeData[i].day = dateArray[2].split(' ')[0];\r\n            if ((myDate.getFullYear() == dateArray[0]) && ((myDate.getMonth() + 1) == dateArray[1].substring(1, 2))\r\n              && (myDate.getDate() == dateArray[2].split(' ')[0])) {\r\n              if (placeData[i].type == 1) {\r\n                if (!isTodayFirstOfScenery) {\r\n                  placeData[i].dateType = 1;// 时间为今天\r\n                  isTodayFirstOfScenery = true;\r\n                } else {\r\n                  placeData[i].dateType = 4;// 时间为今天,但不是第一条\r\n                }\r\n              } else {\r\n                if (!isTodayFirstOfRestaurant) {\r\n                  placeData[i].dateType = 1;// 时间为今天\r\n                  isTodayFirstOfRestaurant = true;\r\n                } else {\r\n                  placeData[i].dateType = 4;// 时间为今天,但不是第一条\r\n                }\r\n              }\r\n            } else if (((myDate.getFullYear() == dateArray[0]) && ((myDate.getMonth() + 1) == dateArray[1].substring(1, 2))\r\n              && (myDate.getDate() - 1 == dateArray[2].split(' ')[0]))\r\n              || ((myDate.getFullYear() == dateArray[0]) && ((myDate.getMonth()) == dateArray[1].substring(1, 2))\r\n                && (myDate.getDate() - 1 == 0) && (dateArray[2].split(' ')[0] == '31' || dateArray[2].split(' ')[0] == '30'\r\n                  || dateArray[2].split(' ')[0] == '29' || dateArray[2].split(' ')[0] == '28'))) {\r\n              if (placeData[i].type == 1) {\r\n                if (!isYesterdayFirstOfScenery) {\r\n                  placeData[i].dateType = 2;// 时间为昨天\r\n                  isYesterdayFirstOfScenery = true;\r\n                } else {\r\n                  placeData[i].dateType = 5;// 时间为昨天,但不是第一条\r\n                }\r\n              } else {\r\n                if (!isYesterdayFirstOfRestaurant) {\r\n                  placeData[i].dateType = 2;// 时间为昨天\r\n                  isYesterdayFirstOfRestaurant = true;\r\n                } else {\r\n                  placeData[i].dateType = 5;// 时间为昨天,但不是第一条\r\n                }\r\n              }\r\n            } else {\r\n              let isFirst = false;\r\n              for (let j = 0; j < i; j++) {\r\n                if (placeData[i].year == placeData[j].year &&\r\n                  placeData[i].month == placeData[j].month &&\r\n                  placeData[i].day == placeData[j].day && placeData[i].type == placeData[j].type) {\r\n                  placeData[i].dateType = 6;// 正常时间,但不是第一条\r\n                  isFirst = true;\r\n                  break;\r\n                }\r\n              }\r\n              if (!isFirst) {\r\n                placeData[i].dateType = 3;// 正常时间\r\n              }\r\n            }\r\n            if (placeData[i].type == 1) {\r\n              if (this.yearsSceneryData.length == 0) {\r\n                this.yearsSceneryData.push(dateArray[0]);\r\n                isRepeated = false;\r\n              } else {\r\n                for (let j = 0; j < this.yearsSceneryData.length; j++) {\r\n                  if (this.yearsSceneryData[j] == dateArray[0]) {\r\n                    isRepeated = true;\r\n                    break;\r\n                  }\r\n                }\r\n                if (!isRepeated) {\r\n                  this.yearsSceneryData.push(dateArray[0]);\r\n                }\r\n              }\r\n              this.sceneryData.push(placeData[i]);\r\n            } else {\r\n              if (this.yearsRestaurantData.length == 0) {\r\n                this.yearsRestaurantData.push(dateArray[0]);\r\n                isRepeated = false;\r\n              } else {\r\n                for (let j = 0; j < this.yearsRestaurantData.length; j++) {\r\n                  if (this.yearsRestaurantData[j] == dateArray[0]) {\r\n                    isRepeated = true;\r\n                    break;\r\n                  }\r\n                }\r\n                if (!isRepeated) {\r\n                  this.yearsRestaurantData.push(dateArray[0]);\r\n                }\r\n              }\r\n              this.restaurantData.push(placeData[i]);\r\n            }\r\n          }\r\n          console.log(\"sss\"+JSON.stringify(this.sceneryData));\r\n          console.log(\"www\"+JSON.stringify(this.restaurantData));\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n  @import \"./style.scss\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/userhistory/index.vue?c673744e","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"index\"\n  }, [_c('van-tabs', {\n    attrs: {\n      \"active\": _vm.active,\n      \"sticky\": \"\",\n      \"animated\": \"\",\n      \"swipeable\": \"\",\n      \"color\": \"#00BFFF\",\n      \"eventid\": '2',\n      \"mpcomid\": '14'\n    },\n    on: {\n      \"change\": _vm.onChange\n    }\n  }, [_c('van-tab', {\n    attrs: {\n      \"title\": \"景点\",\n      \"mpcomid\": '6'\n    }\n  }, [(_vm.isSceneryDataEmpty) ? _c('div', {\n    staticClass: \"firstDiv\"\n  }, [_c('div', [_c('img', {\n    attrs: {\n      \"src\": \"../../../static/images/noContent.png\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"title\"\n  }, [_c('span', [_vm._v(\"\\n            暂无景点浏览记录\\n          \")])])]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.yearsSceneryData), function(year, key) {\n    return (!_vm.isSceneryDataEmpty) ? _c('div', {\n      key: key,\n      staticClass: \"secondDiv\"\n    }, [_c('van-row', {\n      attrs: {\n        \"mpcomid\": '1-' + key\n      }\n    }, [_c('van-col', {\n      attrs: {\n        \"span\": \"8\",\n        \"offset\": \"1\",\n        \"mpcomid\": '0-' + key\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(year) + \"年\\n          \")])], 1), _vm._v(\" \"), _vm._l((_vm.sceneryData), function(item, index) {\n      return _c('div', {\n        key: index\n      }, [(item.year == year) ? _c('div', [_c('div', {\n        staticClass: \"rowBottom\"\n      }, [_c('van-row', {\n        attrs: {\n          \"mpcomid\": '5-' + key + '-' + index\n        }\n      }, [_c('van-col', {\n        attrs: {\n          \"span\": \"4\",\n          \"offset\": \"1\",\n          \"mpcomid\": '2-' + key + '-' + index\n        }\n      }, [_c('div', [(item.dateType == 1) ? _c('span', [_vm._v(\"\\n                      今天\\n                    \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 2) ? _c('span', [_vm._v(\"\\n                      昨天\\n                    \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 3) ? _c('span', [_vm._v(\"\\n                      \" + _vm._s(item.day) + \"\\n                    \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 4 || item.dateType == 5 || item.dateType == 6) ? _c('span', [_vm._v(\"\\n                        \\n                    \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 3) ? _c('span', {\n        staticStyle: {\n          \"font-size\": \"14px\",\n          \"margin-left\": \"-7px\"\n        }\n      }, [_vm._v(\"\\n                      \" + _vm._s(item.month) + \"\\n                    \")]) : _vm._e()])]), _vm._v(\" \"), _c('van-col', {\n        attrs: {\n          \"span\": \"18\",\n          \"eventid\": '0-' + key + '-' + index,\n          \"mpcomid\": '4-' + key + '-' + index\n        },\n        on: {\n          \"longpress\": function($event) {\n            _vm.clickLong(item.id, 1)\n          },\n          \"click\": function($event) {\n            _vm.seeDetails(item)\n          }\n        }\n      }, [_c('van-card', {\n        attrs: {\n          \"desc\": item.address,\n          \"title\": item.placeName,\n          \"thumb\": item.image,\n          \"tag\": item.showtag,\n          \"centered\": \"\",\n          \"lazy-load\": \"\",\n          \"mpcomid\": '3-' + key + '-' + index\n        }\n      })], 1)], 1)], 1)]) : _vm._e()])\n    })], 2) : _vm._e()\n  })], 2), _vm._v(\" \"), _c('van-tab', {\n    attrs: {\n      \"title\": \"餐馆\",\n      \"mpcomid\": '13'\n    }\n  }, [(_vm.isRestaurantDataEmpty) ? _c('div', {\n    staticClass: \"firstDiv\"\n  }, [_c('div', [_c('img', {\n    attrs: {\n      \"src\": \"../../../static/images/noContent.png\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"title\"\n  }, [_c('span', [_vm._v(\"\\n            暂无餐馆浏览记录\\n          \")])])]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.yearsRestaurantData), function(year, key) {\n    return (!_vm.isRestaurantDataEmpty) ? _c('div', {\n      key: key,\n      staticClass: \"secondDiv\"\n    }, [_c('van-row', {\n      attrs: {\n        \"mpcomid\": '8-' + key\n      }\n    }, [_c('van-col', {\n      attrs: {\n        \"span\": \"8\",\n        \"offset\": \"1\",\n        \"mpcomid\": '7-' + key\n      }\n    }, [_vm._v(\"\\n            \" + _vm._s(year) + \"年\\n          \")])], 1), _vm._v(\" \"), _vm._l((_vm.restaurantData), function(item, index) {\n      return _c('div', {\n        key: index,\n        staticClass: \"secondDiv\"\n      }, [(item.year == year) ? _c('div', [_c('div', {\n        staticClass: \"rowBottom\"\n      }, [_c('van-row', {\n        attrs: {\n          \"mpcomid\": '12-' + key + '-' + index\n        }\n      }, [_c('van-col', {\n        attrs: {\n          \"span\": \"4\",\n          \"offset\": \"1\",\n          \"mpcomid\": '9-' + key + '-' + index\n        }\n      }, [_c('div', [(item.dateType == 1) ? _c('span', [_vm._v(\"\\n                  今天\\n                \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 2) ? _c('span', [_vm._v(\"\\n                  昨天\\n                \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 3) ? _c('span', [_vm._v(\"\\n                  \" + _vm._s(item.day) + \"\\n                \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 4 || item.dateType == 5 || item.dateType == 6) ? _c('span', [_vm._v(\"\\n                   \\n                \")]) : _vm._e(), _vm._v(\" \"), (item.dateType == 3) ? _c('span', {\n        staticStyle: {\n          \"font-size\": \"14px\",\n          \"margin-left\": \"-7px\"\n        }\n      }, [_vm._v(\"\\n                  \" + _vm._s(item.month) + \"\\n                \")]) : _vm._e()])]), _vm._v(\" \"), _c('van-col', {\n        attrs: {\n          \"span\": \"18\",\n          \"eventid\": '1-' + key + '-' + index,\n          \"mpcomid\": '11-' + key + '-' + index\n        },\n        on: {\n          \"longpress\": function($event) {\n            _vm.clickLong(item.id, 2)\n          },\n          \"click\": function($event) {\n            _vm.seeDetails(item)\n          }\n        }\n      }, [_c('van-card', {\n        attrs: {\n          \"desc\": item.address,\n          \"title\": item.placeName,\n          \"thumb\": item.image,\n          \"tag\": item.showtag,\n          \"price\": item.price,\n          \"centered\": \"\",\n          \"lazy-load\": \"\",\n          \"mpcomid\": '10-' + key + '-' + index\n        }\n      })], 1)], 1)], 1)]) : _vm._e()])\n    })], 2) : _vm._e()\n  })], 2)], 1), _vm._v(\" \"), _c('van-dialog', {\n    staticStyle: {\n      \"text-align\": \"center\"\n    },\n    attrs: {\n      \"id\": \"van-dialog\",\n      \"mpcomid\": '15'\n    }\n  })], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-2ecb44f2\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-2ecb44f2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/userhistory/index.vue\n// module id = 232\n// module chunks = 2"],"sourceRoot":""}